package com.devtiro.jdbctemplate.dao;

import org.junit.jupiter.api.Test;
import org.junit.jupiter.api.extension.ExtendWith;
import org.mockito.InjectMocks;
import org.mockito.Mock;
import org.mockito.junit.jupiter.MockitoExtension;
import org.springframework.jdbc.core.JdbcTemplate;

import com.devtiro.jdbctemplate.dao.impl.BookDaoImpl;
import com.devtiro.jdbctemplate.domain.Book;

@ExtendWith(MockitoExtension.class)
public class BookDaoImplTest {
	
	@Mock
	private JdbcTemplate jdbcTemplate;
	
	@InjectMocks
	private BookDaoImpl underTest;
	
	
	@Test
	public void testThatCreateBookGeneratesCorrectSql() {
		
		Book book = Book.builder()
				.isbn("9876-187659")
				.title("The shadow in the attic")
				.author_id(1L)
				.build();
				
				
		underTest.create(book);
	}

}
